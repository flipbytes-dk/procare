# ProCare Product Requirements Document (PRD)

## Table of Contents

- [ProCare Product Requirements Document (PRD)](#table-of-contents)
  - [Goals and Background Context](./goals-and-background-context.md)
    - [Goals](./goals-and-background-context.md#goals)
    - [Background Context](./goals-and-background-context.md#background-context)
    - [Change Log](./goals-and-background-context.md#change-log)
  - [Requirements](./requirements.md)
    - [Functional](./requirements.md#functional)
    - [Non Functional](./requirements.md#non-functional)
  - [User Interface Design Goals](./user-interface-design-goals.md)
    - [Overall UX Vision](./user-interface-design-goals.md#overall-ux-vision)
    - [Key Interaction Paradigms](./user-interface-design-goals.md#key-interaction-paradigms)
    - [Core Screens and Views](./user-interface-design-goals.md#core-screens-and-views)
    - [Accessibility: WCAG AA](./user-interface-design-goals.md#accessibility-wcag-aa)
    - [Branding](./user-interface-design-goals.md#branding)
    - [Target Device and Platforms: Cross-Platform](./user-interface-design-goals.md#target-device-and-platforms-cross-platform)
  - [Technical Assumptions](./technical-assumptions.md)
    - [Repository Structure: Monorepo](./technical-assumptions.md#repository-structure-monorepo)
    - [Service Architecture](./technical-assumptions.md#service-architecture)
    - [Testing Requirements](./technical-assumptions.md#testing-requirements)
    - [Additional Technical Assumptions and Requests](./technical-assumptions.md#additional-technical-assumptions-and-requests)
  - [Epic List](./epic-list.md)
  - [Epic 1: Foundation & Core Patient Logging](./epic-1-foundation-core-patient-logging.md)
    - [Epic Goal](./epic-1-foundation-core-patient-logging.md#epic-goal)
    - [Story 1.1: Project Foundation & Infrastructure Setup](./epic-1-foundation-core-patient-logging.md#story-11-project-foundation-infrastructure-setup)
    - [Story 1.2: Database Architecture & Offline-First Foundation](./epic-1-foundation-core-patient-logging.md#story-12-database-architecture-offline-first-foundation)
    - [Story 1.3: Native Mobile App Development (iOS & Android)](./epic-1-foundation-core-patient-logging.md#story-13-native-mobile-app-development-ios-android)
    - [Story 1.3a: WhatsApp Business API Integration (Secondary Channel)](./epic-1-foundation-core-patient-logging.md#story-13a-whatsapp-business-api-integration-secondary-channel)
    - [Story 1.4: Doctor-Initiated Patient Onboarding & Authentication](./epic-1-foundation-core-patient-logging.md#story-14-doctor-initiated-patient-onboarding-authentication)
    - [Story 1.4a: Caregiver Enrollment Without Doctor](./epic-1-foundation-core-patient-logging.md#story-14a-caregiver-enrollment-without-doctor)
    - [Story 1.4b: Self Enrollment](./epic-1-foundation-core-patient-logging.md#story-14b-self-enrollment)
    - [Story 1.5: Glucose Logging via WhatsApp (Text Input)](./epic-1-foundation-core-patient-logging.md#story-15-glucose-logging-via-whatsapp-text-input)
    - [Story 1.5a: Glucose Logging via Mobile App (Text Input with Pre-configured Nudges)](./epic-1-foundation-core-patient-logging.md#story-15a-glucose-logging-via-mobile-app-text-input-with-pre-configured-nudges)
    - [Story 1.6: Glucose Logging via WhatsApp (Voice Input)](./epic-1-foundation-core-patient-logging.md#story-16-glucose-logging-via-whatsapp-voice-input)
    - [Story 1.7: Glucose Logging via WhatsApp (Photo OCR)](./epic-1-foundation-core-patient-logging.md#story-17-glucose-logging-via-whatsapp-photo-ocr)
    - [Story 1.8: Meal Logging via WhatsApp (Photo + Text)](./epic-1-foundation-core-patient-logging.md#story-18-meal-logging-via-whatsapp-photo-text)
    - [Story 1.8a: Meal Logging via Web Chat (Photo + Text)](./epic-1-foundation-core-patient-logging.md#story-18a-meal-logging-via-web-chat-photo-text)
    - [Story 1.9: Photo Input Recognition & Automatic Routing](./epic-1-foundation-core-patient-logging.md#story-19-photo-input-recognition-automatic-routing)
    - [Story 1.10: Meal Inference from Glucose Reading](./epic-1-foundation-core-patient-logging.md#story-110-meal-inference-from-glucose-reading)
    - [Story 1.11: Data Sync Engine (Offline to Online)](./epic-1-foundation-core-patient-logging.md#story-111-data-sync-engine-offline-to-online)
    - [Story 1.12: Trial Period Management for Referred Patients](./epic-1-foundation-core-patient-logging.md#story-112-trial-period-management-for-referred-patients)
    - [Story 1.13: Subscription Restrictions After Trial Period](./epic-1-foundation-core-patient-logging.md#story-113-subscription-restrictions-after-trial-period)
  - [Epic 2: Medication Management & Reminders](./epic-2-medication-management-reminders.md)
    - [Epic Goal](./epic-2-medication-management-reminders.md#epic-goal)
    - [Story 2.1: Medication Data Model & Storage](./epic-2-medication-management-reminders.md#story-21-medication-data-model-storage)
    - [Story 2.2: Doctor Sets Medication Schedule During Patient Onboarding](./epic-2-medication-management-reminders.md#story-22-doctor-sets-medication-schedule-during-patient-onboarding)
    - [Story 2.3: Basic Medication Reminders via WhatsApp/Web Chat](./epic-2-medication-management-reminders.md#story-23-basic-medication-reminders-via-whatsappweb-chat)
    - [Story 2.4: Medication Logging by Patient (Manual Entry)](./epic-2-medication-management-reminders.md#story-24-medication-logging-by-patient-manual-entry)
    - [Story 2.5: Missed Medication Detection & Sequential Nudges](./epic-2-medication-management-reminders.md#story-25-missed-medication-detection-sequential-nudges)
    - [Story 2.6: Medication Escalation to Caregiver (No Doctor Escalation)](./epic-2-medication-management-reminders.md#story-26-medication-escalation-to-caregiver-no-doctor-escalation)
    - [Story 2.7: Medication Adherence Trend (No Doctor Escalation)](./epic-2-medication-management-reminders.md#story-27-medication-adherence-trend-no-doctor-escalation)
    - [Story 2.8: Medication Adherence Tracking & Reporting](./epic-2-medication-management-reminders.md#story-28-medication-adherence-tracking-reporting)
  - [Epic 3: Agent Orchestration & Emergency Detection](./epic-3-agent-orchestration-emergency-detection.md)
    - [Epic Goal](./epic-3-agent-orchestration-emergency-detection.md#epic-goal)
    - [Story 3.1: Message Bus Infrastructure & Agent Communication](./epic-3-agent-orchestration-emergency-detection.md#story-31-message-bus-infrastructure-agent-communication)
    - [Story 3.2: Engagement Engine - Core Orchestrator](./epic-3-agent-orchestration-emergency-detection.md#story-32-engagement-engine-core-orchestrator)
    - [Story 3.3: Clinical Monitor Agent - Emergency Detection Logic](./epic-3-agent-orchestration-emergency-detection.md#story-33-clinical-monitor-agent-emergency-detection-logic)
    - [Story 3.4: Clinical Monitor - Emergency Response & Instructions](./epic-3-agent-orchestration-emergency-detection.md#story-34-clinical-monitor-emergency-response-instructions)
    - [Story 3.5: Clinical Monitor - Configurable Doctor Alerts for Emergencies](./epic-3-agent-orchestration-emergency-detection.md#story-35-clinical-monitor-configurable-doctor-alerts-for-emergencies)
    - [Story 3.6: Agent Response Synthesis & Notification Bundling](./epic-3-agent-orchestration-emergency-detection.md#story-36-agent-response-synthesis-notification-bundling)
    - [Story 3.7: Priority Hierarchy & Emergency Override](./epic-3-agent-orchestration-emergency-detection.md#story-37-priority-hierarchy-emergency-override)
    - [Story 3.8: Agent Health Monitoring & Error Recovery](./epic-3-agent-orchestration-emergency-detection.md#story-38-agent-health-monitoring-error-recovery)
  - [Epic 4: Pattern Detection & Health Insights](./epic-4-pattern-detection-health-insights.md)
    - [Epic Goal](./epic-4-pattern-detection-health-insights.md#epic-goal)
    - [Story 4.1: Health Insights Agent Infrastructure & Data Collection](./epic-4-pattern-detection-health-insights.md#story-41-health-insights-agent-infrastructure-data-collection)
    - [Story 4.2: Food-Glucose Correlation Analysis](./epic-4-pattern-detection-health-insights.md#story-42-food-glucose-correlation-analysis)
    - [Story 4.3: Activity Impact Analysis](./epic-4-pattern-detection-health-insights.md#story-43-activity-impact-analysis)
    - [Story 4.4: Medication Consistency Pattern Detection](./epic-4-pattern-detection-health-insights.md#story-44-medication-consistency-pattern-detection)
    - [Story 4.5: Pattern Detection After 4 Weeks of Data](./epic-4-pattern-detection-health-insights.md#story-45-pattern-detection-after-4-weeks-of-data)
    - [Story 4.6: Personalized Insight Generation](./epic-4-pattern-detection-health-insights.md#story-46-personalized-insight-generation)
    - [Story 4.7: Prediction Validation & Learning Loop](./epic-4-pattern-detection-health-insights.md#story-47-prediction-validation-learning-loop)
    - [Story 4.8: Pattern Display in Dashboards](./epic-4-pattern-detection-health-insights.md#story-48-pattern-display-in-dashboards)
  - [Epic 5: Doctor Dashboard & Patient Management](./epic-5-doctor-dashboard-patient-management.md)
    - [Epic Goal](./epic-5-doctor-dashboard-patient-management.md#epic-goal)
    - [Story 5.1: Doctor Self-Registration & Dashboard Foundation](./epic-5-doctor-dashboard-patient-management.md#story-51-doctor-self-registration-dashboard-foundation)
    - [Story 5.2: Patient Search & Tiered Patient View](./epic-5-doctor-dashboard-patient-management.md#story-52-patient-search-tiered-patient-view)
    - [Story 5.3: Patient Detail View with Health Record Trends & Decision Support](./epic-5-doctor-dashboard-patient-management.md#story-53-patient-detail-view-with-health-record-trends-decision-support)
    - [Story 5.4: Doctor-Initiated Patient Onboarding with QR Code](./epic-5-doctor-dashboard-patient-management.md#story-54-doctor-initiated-patient-onboarding-with-qr-code)
    - [Story 5.5: Diabetes Specialist Connection to Referred Patients](./epic-5-doctor-dashboard-patient-management.md#story-55-diabetes-specialist-connection-to-referred-patients)
    - [Story 5.6: Alert Management & Appointment Scheduling](./epic-5-doctor-dashboard-patient-management.md#story-56-alert-management-appointment-scheduling)
    - [Story 5.7: Daily Patient Summary with Appointment Bucket](./epic-5-doctor-dashboard-patient-management.md#story-57-daily-patient-summary-with-appointment-bucket)
    - [Story 5.8: Doctor Communication via ProCare Relay (No Direct Conversation)](./epic-5-doctor-dashboard-patient-management.md#story-58-doctor-communication-via-procare-relay-no-direct-conversation)
    - [Story 5.9: Doctor Dashboard Performance & Usability](./epic-5-doctor-dashboard-patient-management.md#story-59-doctor-dashboard-performance-usability)
  - [Epic 6: Caregiver Features & Alerts](./epic-6-caregiver-features-alerts.md)
    - [Epic Goal](./epic-6-caregiver-features-alerts.md#epic-goal)
    - [Story 6.1: Caregiver Registration & Patient Linking](./epic-6-caregiver-features-alerts.md#story-61-caregiver-registration-patient-linking)
    - [Story 6.2: Caregiver Web Dashboard - Patient Status Overview](./epic-6-caregiver-features-alerts.md#story-62-caregiver-web-dashboard-patient-status-overview)
    - [Story 6.3: Real-Time Critical Alerts via WhatsApp](./epic-6-caregiver-features-alerts.md#story-63-real-time-critical-alerts-via-whatsapp)
    - [Story 6.4: Daily Digest Summary via WhatsApp](./epic-6-caregiver-features-alerts.md#story-64-daily-digest-summary-via-whatsapp)
    - [Story 6.5: Caregiver Dashboard - Patient Detail View](./epic-6-caregiver-features-alerts.md#story-65-caregiver-dashboard-patient-detail-view)
    - [Story 6.6: Caregiver-Primary Management Mode](./epic-6-caregiver-features-alerts.md#story-66-caregiver-primary-management-mode)
    - [Story 6.7: Caregiver-Patient Messaging via Dashboard](./epic-6-caregiver-features-alerts.md#story-67-caregiver-patient-messaging-via-dashboard)
    - [Story 6.8: Caregiver Dashboard Performance & Anxiety Reduction](./epic-6-caregiver-features-alerts.md#story-68-caregiver-dashboard-performance-anxiety-reduction)
  - [Epic 7: Proactive Pattern-Based Interventions](./epic-7-proactive-pattern-based-interventions.md)
    - [Epic Goal](./epic-7-proactive-pattern-based-interventions.md#epic-goal)
    - [Story 7.1: Pre-Meal Timing Detection](./epic-7-proactive-pattern-based-interventions.md#story-71-pre-meal-timing-detection)
    - [Story 7.2: Pre-Meal Warning Generation](./epic-7-proactive-pattern-based-interventions.md#story-72-pre-meal-warning-generation)
    - [Story 7.3: Pre-Meal Warning Delivery via WhatsApp](./epic-7-proactive-pattern-based-interventions.md#story-73-pre-meal-warning-delivery-via-whatsapp)
    - [Story 7.4: Behavior Change Tracking & Validation](./epic-7-proactive-pattern-based-interventions.md#story-74-behavior-change-tracking-validation)
    - [Story 7.5: Notification Bundling Logic](./epic-7-proactive-pattern-based-interventions.md#story-75-notification-bundling-logic)
    - [Story 7.6: Rate Limiting Enforcement](./epic-7-proactive-pattern-based-interventions.md#story-76-rate-limiting-enforcement)
    - [Story 7.7: Proactive Medication Reminder Optimization](./epic-7-proactive-pattern-based-interventions.md#story-77-proactive-medication-reminder-optimization)
    - [Story 7.8: Intervention Effectiveness Reporting](./epic-7-proactive-pattern-based-interventions.md#story-78-intervention-effectiveness-reporting)
  - [Epic 8: Advanced Coordination & Question Answering](./epic-8-advanced-coordination-question-answering.md)
    - [Epic Goal](./epic-8-advanced-coordination-question-answering.md#epic-goal)
    - [Story 8.1: Care Coordinator Agent - Standard Test Scheduling](./epic-8-advanced-coordination-question-answering.md#story-81-care-coordinator-agent-standard-test-scheduling)
    - [Story 8.2: Care Coordinator - HbA1c Prediction](./epic-8-advanced-coordination-question-answering.md#story-82-care-coordinator-hba1c-prediction)
    - [Story 8.3: Care Coordinator - Lab Result Upload & Analysis](./epic-8-advanced-coordination-question-answering.md#story-83-care-coordinator-lab-result-upload-analysis)
    - [Story 8.4: Doctor Bridge Agent - Question Classification](./epic-8-advanced-coordination-question-answering.md#story-84-doctor-bridge-agent-question-classification)
    - [Story 8.5: Doctor Bridge - AI Question Answering](./epic-8-advanced-coordination-question-answering.md#story-85-doctor-bridge-ai-question-answering)
    - [Story 8.6: Doctor Bridge - Pooled Questions & Batch Responses](./epic-8-advanced-coordination-question-answering.md#story-86-doctor-bridge-pooled-questions-batch-responses)
    - [Story 8.11: Reverse Acquisition - Doctor Data Collection](./epic-8-advanced-coordination-question-answering.md#story-811-reverse-acquisition-doctor-data-collection)
    - [Story 8.12: Revenue Sharing Between Referring and Diabetes Specialists](./epic-8-advanced-coordination-question-answering.md#story-812-revenue-sharing-between-referring-and-diabetes-specialists)
    - [Story 8.7: Weekly Progress Reports for Patients](./epic-8-advanced-coordination-question-answering.md#story-87-weekly-progress-reports-for-patients)
    - [Story 8.8: Weekly Progress Reports for Doctors](./epic-8-advanced-coordination-question-answering.md#story-88-weekly-progress-reports-for-doctors)
    - [Story 8.9: Learning Library Agent - Context-Based Education](./epic-8-advanced-coordination-question-answering.md#story-89-learning-library-agent-context-based-education)
    - [Story 8.10: Care Coordinator - Medication Refill Tracking](./epic-8-advanced-coordination-question-answering.md#story-810-care-coordinator-medication-refill-tracking)
  - [Epic 9: Health Records Management](./epic-9-health-records-management.md)
    - [Epic Goal](./epic-9-health-records-management.md#epic-goal)
    - [Story 9.1: Health Records Upload & Storage](./epic-9-health-records-management.md#story-91-health-records-upload-storage)
    - [Story 9.2: Health Records Query & Search](./epic-9-health-records-management.md#story-92-health-records-query-search)
    - [Story 9.3: Health Records Download & Reports](./epic-9-health-records-management.md#story-93-health-records-download-reports)
    - [Story 9.4: Doctor Health Records Access](./epic-9-health-records-management.md#story-94-doctor-health-records-access)
    - [Story 9.5: EMR Auto-Population](./epic-9-health-records-management.md#story-95-emr-auto-population)
  - [Epic 10: Diet/Lifestyle Module](./epic-10-dietlifestyle-module.md)
    - [Epic Goal](./epic-10-dietlifestyle-module.md#epic-goal)
    - [Story 10.1: Calorie Management](./epic-10-dietlifestyle-module.md#story-101-calorie-management)
    - [Story 10.2: Food Swap Recommendations](./epic-10-dietlifestyle-module.md#story-102-food-swap-recommendations)
    - [Story 10.3: Specific Diet Types Support](./epic-10-dietlifestyle-module.md#story-103-specific-diet-types-support)
    - [Story 10.4: Menu Recommendations from Photos](./epic-10-dietlifestyle-module.md#story-104-menu-recommendations-from-photos)
  - [Epic 11: Prescription Upload & Data Extraction](./epic-11-prescription-upload-data-extraction.md)
    - [Epic Goal](./epic-11-prescription-upload-data-extraction.md#epic-goal)
    - [Story 11.1: Prescription Upload](./epic-11-prescription-upload-data-extraction.md#story-111-prescription-upload)
    - [Story 11.2: Prescription Data Extraction (Including Handwritten)](./epic-11-prescription-upload-data-extraction.md#story-112-prescription-data-extraction-including-handwritten)
  - [Epic 12: Integrations & Global Support](./epic-12-integrations-global-support.md)
    - [Epic Goal](./epic-12-integrations-global-support.md#epic-goal)
    - [Story 12.1: Bluetooth Device Integration](./epic-12-integrations-global-support.md#story-121-bluetooth-device-integration)
    - [Story 12.2: Google Fit & Apple Health Integration](./epic-12-integrations-global-support.md#story-122-google-fit-apple-health-integration)
    - [Story 12.3: Payment Gateway Integration](./epic-12-integrations-global-support.md#story-123-payment-gateway-integration)
    - [Story 12.4: Service Provider Integration](./epic-12-integrations-global-support.md#story-124-service-provider-integration)
    - [Story 12.5: Global/Regional Support with Location Packs](./epic-12-integrations-global-support.md#story-125-globalregional-support-with-location-packs)
    - [Story 12.6: ABHA (Ayushman Bharat Health Account) Integration Planning](./epic-12-integrations-global-support.md#story-126-abha-ayushman-bharat-health-account-integration-planning)
  - [Checklist Results Report](./checklist-results-report.md)
    - [Executive Summary](./checklist-results-report.md#executive-summary)
    - [Category Analysis](./checklist-results-report.md#category-analysis)
    - [Top Issues by Priority](./checklist-results-report.md#top-issues-by-priority)
    - [MVP Scope Assessment](./checklist-results-report.md#mvp-scope-assessment)
    - [Technical Readiness](./checklist-results-report.md#technical-readiness)
    - [Recommendations](./checklist-results-report.md#recommendations)
    - [Final Decision](./checklist-results-report.md#final-decision)
  - [Next Steps](./next-steps.md)
    - [UX Expert Prompt](./next-steps.md#ux-expert-prompt)
    - [Architect Prompt](./next-steps.md#architect-prompt)
